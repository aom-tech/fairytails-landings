---
// Define your navigation links here
const navLinks = [
  { href: '/#how', label: 'Как это работает?' },
  { href: '/#features', label: 'Возможности' },
  { href: '/#cases', label: 'Примеры' },
];

import Container from "./Container.astro"
import Logo from "./Logo.astro";
---

<nav class="w-full top-0 left-0 z-50 fixed md:relative bg-coal">
  <Container>
    <div class="py-3 md:py-6">
      <div class="flex flex-wrap items-center justify-between mx-auto border-y border-ochre">
        <a href="/" class="flex items-center space-x-3 rtl:space-x-reverse max-w-[80%]">
          <Logo />
        </a>
        <button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 w-12 h-10 md:w-16 md:h-16 justify-center text-sm rounded-lg md:block focus:outline-none outline-none" aria-controls="navbar-default" aria-expanded="false">
            <span class="sr-only">Открыть меню</span>

            <svg class="text-ochre" viewBox="0 0 80 28" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="80" height="4" rx="2" fill="currentColor"/>
              <rect y="12" width="80" height="4" rx="2" fill="currentColor"/>
              <rect y="24" width="80" height="4" rx="2" fill="currentColor"/>
            </svg>
        </button>
      </div>
      <div class="hidden w-full md:w-auto" id="navbar-default">
        <ul class="font-medium flex flex-col py-4 md:py-12 md:mt-8 rounded-lg md:flex-row md:flex-wrap md:justify-evenly mt-4">
            {navLinks.map(link => (
            <li>
                <a href={link.href} class="block py-2 px-3 md:bg-transparent md:p-0 text-darkbeige hover:text-ochre ">{link.label}</a>
            </li>
            ))}
            <li class="md:w-full md:flex md:justify-center mt-8 md:mt-20 px-3">
              <a class="px-4 py-2 md:px-6 md:py-4 border rounded-lg border-ochre hover:text-darkochre hover:border-darkochre text-ochre inline-flex" href="#contact">
                <h2 class="text-center text-xl md:text-4xl font-normal leading-7 md:leading-10">Войти</h2>
              </a>
            </li>
        </ul>
      </div>
      <!-- <div class="w-full md:hidden md:w-auto" id="navbar-default">
        <a class="px-9 py-5 border border-ochre text-ochre hover:text-coal hover:border-coal inline-flex" href="#contact">
          <h2 class="text-center text-xl font-normal leading-7">Войти</h2>
        </a>
      </div> -->
    </div>
  </Container>
</nav>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const navbar = document.getElementById('navbar-default');

  // Check if navbar exists before adding event listeners
  if (navbar) {
    const toggleButton = document.querySelector('[data-collapse-toggle="navbar-default"]');
    const navLinks = navbar.querySelectorAll('a');

    if (toggleButton) {
      toggleButton.addEventListener('click', () => navbar.classList.toggle('hidden'));
    } else {
      console.warn("Navbar toggle button not found. Toggle functionality might be affected.");
    }

    navLinks.forEach(link => link.addEventListener('click', () => navbar.classList.add('hidden')));
  } else {
    console.warn("Navbar element with ID 'navbar-default' not found. Navigation functionality might be affected.");
  }
});

</script>